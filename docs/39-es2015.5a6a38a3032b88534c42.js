(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{"Z/ax":function(e,t,s){"use strict";s.r(t),s.d(t,"pds_typeahead",(function(){return d}));var i=s("W6Yi"),o=s("V4fj");class n{constructor(e){Object.assign(this,e)}}const d=class{constructor(e){Object(i.g)(this,e),this.inputValue="",this.suggestionArr=[],this.notfoundmessage="No matches found.",this.nooffooter=1,this.pftext="Enter it manually",this.pfallignment="left",this.sftext="Load remaining items",this.sfallignment="center",this.noofitems=4,this.placeholder="",this.type="is-static",this._suggestionlist=[],this._objects=[],this._stringObjects=[],this.findMatch=e=>{if(0===e.length)return[];const t=this._suggestionlist.filter((function(t){return t.value.toLowerCase().includes(e.toLowerCase())}));return this.notFound=0===t.length,t},this.onInput=e=>{"is-static"==this.type&&(e.target&&""!==e.target.value&&this.suggestionlist?(this.inputValue=e.target.value,this.suggestionArr=this.findMatch(this.inputValue),this.showSuggestions=!0):this.showSuggestions=!1)},this.onKeyDown=e=>{switch(e.key){case"ArrowUp":this.suggestionArr.length>0&&(this.selectedSuggestionIndex=void 0===this.selectedSuggestionIndex||0===this.selectedSuggestionIndex?this.suggestionArr.length-1:this.selectedSuggestionIndex-1,this.inputValue=this.suggestionArr[this.selectedSuggestionIndex].value,this.ensureInView(document.querySelector('[id="'+this._id+'"] .typeahead-wrapper'),document.querySelector('[id="'+this._id+'"] [data-index="'+this.selectedSuggestionIndex+'"].typeahead-li')));break;case"ArrowDown":this.suggestionArr.length>0&&(this.selectedSuggestionIndex=void 0===this.selectedSuggestionIndex||this.selectedSuggestionIndex===this.suggestionArr.length-1?0:this.selectedSuggestionIndex+1,this.inputValue=this.suggestionArr[this.selectedSuggestionIndex].value,this.ensureInView(document.querySelector('[id="'+this._id+'"] .typeahead-wrapper'),document.querySelector('[id="'+this._id+'"] [data-index="'+this.selectedSuggestionIndex+'"].typeahead-li')));break;case"Escape":this.showSuggestions=!1,this.selectedSuggestionIndex=void 0;break;case"Tab":void 0!==this.selectedSuggestionIndex?this.onSelect(this.suggestionArr[this.selectedSuggestionIndex].value,this.suggestionArr[this.selectedSuggestionIndex].key):(this.showSuggestions=!1,this.selectedSuggestionIndex=void 0,this.blurEvent.emit(e))}},this.onKeyPress=e=>{"Enter"===e.key&&(e.preventDefault(),void 0!==this.selectedSuggestionIndex&&this.onSelect(this.suggestionArr[this.selectedSuggestionIndex].value,this.suggestionArr[this.selectedSuggestionIndex].key))},this.onSelect=(e,t)=>{this.inputValue=e,this.selectedSuggestionIndex=void 0,this.showSuggestions=!1,this.listselected.emit(t)},this.getSuggestionElement=(e,t,s)=>{const o=void 0!==this.selectedSuggestionIndex&&e===this.suggestionArr[this.selectedSuggestionIndex].value;return Object(i.f)("li",{class:"typeahead-li "+(o?"typeahead-selected":""),onClick:()=>this.onSelect(e,t),"data-index":s},e)},this._id="auto_"+Object(o.b)(),this.blurEvent=Object(i.d)(this,"blurEvent",7),this.pfclick=Object(i.d)(this,"pfclick",7),this.sfclick=Object(i.d)(this,"sfclick",7),this.listselected=Object(i.d)(this,"listselected",7)}validateSuggestionlist(e){if(this.suggestionlist){if("is-dynamic"===this.type&&(this._suggestionlist=[]),this._objects=JSON.parse(e),"string"==typeof this._objects[0]||"number"==typeof this._objects[0]){this._stringObjects=JSON.parse(e),this._stringObjects.sort();for(const e of this._stringObjects){const t=new n;t.key=e,t.value=e,this._suggestionlist.push(t)}}else{for(const e of this._objects){const t=new n,s=Object.keys(e);for(const i of s)"isSelected"===i?t.isSelected=e[i]:i===this.keyfield?t.key=e[i]:i===this.valuefield&&(t.value=e[i]);this._suggestionlist.push(t)}for(const e of this._suggestionlist)if(e.isSelected){this.inputValue=e.value;break}}"is-dynamic"===this.type&&(this.suggestionArr=this._suggestionlist,this.showSuggestions=!0)}else this.suggestionArr=[],this.showSuggestions=!1}handleWindowClick(e){this.element.contains(e.target)||(this.showSuggestions=!1,this.selectedSuggestionIndex=void 0,this.blurEvent.emit(e))}componentWillLoad(){this.suggestionlist?this.validateSuggestionlist(this.suggestionlist):this.suggestionlistapi&&fetch(this.suggestionlistapi).then(e=>e.json()).then(e=>this.suggestionlist=JSON.stringify(e))}ensureInView(e,t){const s=e.scrollTop,i=s+e.clientHeight,o=t.offsetTop,n=o+t.clientHeight;o<s?e.scrollTop-=s-o:n>i&&(e.scrollTop+=n-i)}componentDidLoad(){this.uid=this.uid?this.uid:Object(o.a)(),document.querySelector('[id="'+this.uid+'"]').setAttribute("autocomplete","off")}handlePFClick(){this.showSuggestions=!1,this.selectedSuggestionIndex=void 0,this.pfclick.emit()}handleSFClick(){this.showSuggestions=!1,this.selectedSuggestionIndex=void 0,this.sfclick.emit()}render(){return Object(i.f)("host",null,Object(i.f)("div",{class:{"typeahead-div":!0,"is-loading":this.isLoading},id:this._id},Object(i.f)("pds-input",{type:"text",uid:this.uid,name:this.name,color:this.color,size:this.size,placeholder:this.placeholder,value:this.inputValue,disabled:this.disabled,onInput:e=>this.onInput(e),onKeyDown:e=>this.onKeyDown(e),onKeyPress:e=>this.onKeyPress(e),spellCheck:!1,rounded:this.rounded}),Object(i.f)("div",{class:"typeahead-list",hidden:!this.showSuggestions},Object(i.f)("div",{class:"typeahead-wrapper",style:{"max-height":34*this.noofitems+"px"}},Object(i.f)("ul",{class:"typeahead-ul",role:"listbox"},this.suggestionArr.map((e,t)=>this.getSuggestionElement(e.value,e.key,t)))),Object(i.f)("div",{class:"typeahead-notfound",hidden:!this.notFound},this.notfoundmessage),Object(i.f)("div",{class:"typeahead-footer",hidden:!this.showSuggestions||0===this.nooffooter},2===this.nooffooter?Object(i.f)("div",{class:"secondary-footer",style:{"text-align":this.sfallignment}},Object(i.f)("a",{href:this.sflink,onClick:()=>this.handleSFClick()},this.sftext)):"",this.nooffooter>0?Object(i.f)("div",{class:"primary-footer",style:{"text-align":this.pfallignment}},Object(i.f)("a",{href:this.pflink,onClick:()=>this.handlePFClick()},this.pftext)):""))))}get element(){return Object(i.e)(this)}static get watchers(){return{suggestionlist:["validateSuggestionlist"]}}static get style(){return'@-webkit-keyframes spinAround{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes spinAround{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}pds-typeahead .typeahead-div{position:relative}pds-typeahead .typeahead-input{width:100%}pds-typeahead .input{-webkit-box-shadow:0 0 0 #000;box-shadow:0 0 0 #000}pds-typeahead .typeahead-list{list-style:none;border:1px solid #b5b5b5;background-color:#fff;position:absolute;margin:0;padding:0;width:100%;border-radius:4px;z-index:99}pds-typeahead .typeahead-wrapper{max-height:135px;overflow-y:auto;border-bottom:none;width:100%}pds-typeahead .typeahead-wrapper::-webkit-scrollbar{width:6px;background-color:transparent}pds-typeahead .typeahead-wrapper::-webkit-scrollbar-thumb{background-color:#b5b5b5;border-radius:10px}pds-typeahead .typeahead-notfound{list-style:none;color:#121212;font-size:.875rem;line-height:1.5;padding:.375rem 1rem}pds-typeahead .typeahead-footer{border-top:1px solid #b5b5b5;width:100%;-webkit-box-shadow:0 .5em 1em -.125em rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.02);box-shadow:0 .5em 1em -.125em rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.02);list-style:none;color:#121212;position:relative}pds-typeahead .primary-footer,pds-typeahead .secondary-footer,pds-typeahead .typeahead-li{font-size:.875rem;line-height:1.5;padding:.375rem 1rem}pds-typeahead .typeahead-li{color:#242424;display:block;position:relative;text-align:left;width:100%}pds-typeahead .typeahead-li:not(:first-child){border-top:1px solid #dbdbdb}pds-typeahead .typeahead-li:hover{cursor:pointer}pds-typeahead .typeahead-li:hover,pds-typeahead .typeahead-selected{background-color:#f5f5f5;color:#0a0a0a}pds-typeahead .typeahead-div.is-loading:after{position:absolute!important;right:.625em;top:.625em;z-index:4;-webkit-animation:spinAround .5s linear infinite;animation:spinAround .5s linear infinite;border:2px solid #dbdbdb;border-radius:290486px;border-right-color:transparent;border-top-color:transparent;content:"";display:block;height:1em;width:1em}pds-typeahead .typeahead-div.is-loading input[type=text]{padding-right:30px}'}}}}]);