(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"3uDK":function(t,e,s){"use strict";s.r(e),s.d(e,"pds_combo_box",(function(){return n}));var o=s("W6Yi");class i{constructor(t){Object.assign(this,t)}}const n=class{constructor(t){Object(o.g)(this,t),this.inputValue="",this.suggestionArr=[],this.notfoundmessage="No matches found.",this.nooffooter=0,this.pftext="Enter it manually",this.pfallignment="left",this.sftext="Load remaining items",this.sfallignment="center",this.noofitems=4,this.placeholder="",this.type="is-static",this._suggestionlist=[],this._objects=[],this._stringObjects=[],this.findMatch=t=>{if(0===t.length)return[];const e=this._suggestionlist.filter((function(e){return e.value.toLowerCase().includes(t.toLowerCase())}));return this.notFound=0===e.length,e},this.onInput=t=>{"is-static"==this.type&&(t.target&&""!==t.target.value&&this.suggestionlist?(this.inputValue=t.target.value,this.suggestionArr=this.findMatch(this.inputValue),this.showSuggestions=!0):this.showSuggestions=!1)},this.onKeyDown=t=>{switch(t.key){case"ArrowUp":this.suggestionArr.length>0&&(this.selectedSuggestionIndex=void 0===this.selectedSuggestionIndex||0===this.selectedSuggestionIndex?this.suggestionArr.length-1:this.selectedSuggestionIndex-1,this.inputValue=this.suggestionArr[this.selectedSuggestionIndex].value,this.ensureInView(document.querySelector('[id="'+this._id+'"] .combobox-wrapper'),document.querySelector('[id="'+this._id+'"] [data-index="'+this.selectedSuggestionIndex+'"].combobox-li')));break;case"ArrowDown":this.suggestionArr.length>0&&(this.selectedSuggestionIndex=void 0===this.selectedSuggestionIndex||this.selectedSuggestionIndex===this.suggestionArr.length-1?0:this.selectedSuggestionIndex+1,this.inputValue=this.suggestionArr[this.selectedSuggestionIndex].value,this.ensureInView(document.querySelector('[id="'+this._id+'"] .combobox-wrapper'),document.querySelector('[id="'+this._id+'"] [data-index="'+this.selectedSuggestionIndex+'"].combobox-li')));break;case"Escape":this.showSuggestions=!1,this.selectedSuggestionIndex=void 0;break;case"Tab":void 0!==this.selectedSuggestionIndex?this.onSelect(this.suggestionArr[this.selectedSuggestionIndex].value,this.suggestionArr[this.selectedSuggestionIndex].key):(this.showSuggestions=!1,this.selectedSuggestionIndex=void 0,this.blurEvt.emit(t))}},this.onKeyPress=t=>{"Enter"===t.key&&(t.preventDefault(),void 0!==this.selectedSuggestionIndex&&this.onSelect(this.suggestionArr[this.selectedSuggestionIndex].value,this.suggestionArr[this.selectedSuggestionIndex].key))},this.onSelect=(t,e)=>{this.inputValue=t,this.selectedSuggestionIndex=void 0,this.showSuggestions=!1,this.listselected.emit(e)},this.getSuggestionElement=(t,e,s)=>{const i=this.inputValue===t;return Object(o.f)("li",{class:"combobox-li "+(i?"combobox-selected":""),onClick:()=>this.onSelect(t,e),"data-index":s},t)},this._id="auto_"+Math.random().toString(36).substr(2,9),this.blurEvt=Object(o.d)(this,"blurEvt",7),this.pfclick=Object(o.d)(this,"pfclick",7),this.sfclick=Object(o.d)(this,"sfclick",7),this.listselected=Object(o.d)(this,"listselected",7)}validateSuggestionlist(t){if(this.suggestionlist){if("is-dynamic"===this.type&&(this._suggestionlist=[]),this._objects=JSON.parse(t),"string"==typeof this._objects[0]||"number"==typeof this._objects[0]){this._stringObjects=JSON.parse(t),this._stringObjects.sort();for(const t of this._stringObjects){const e=new i;e.key=t,e.value=t,this._suggestionlist.push(e)}}else{for(const t of this._objects){const e=new i,s=Object.keys(t);for(const o of s)"isSelected"===o?e.isSelected=t[o]:o===this.keyfield?e.key=t[o]:o===this.valuefield&&(e.value=t[o]);this._suggestionlist.push(e)}for(const t of this._suggestionlist)if(t.isSelected){this.inputValue=t.value;break}}"is-dynamic"===this.type&&(this.suggestionArr=this._suggestionlist,this.showSuggestions=!0)}else this.suggestionArr=[],this.showSuggestions=!1}handleWindowClick(t){this.element.contains(t.target)||(this.showSuggestions=!1,this.selectedSuggestionIndex=void 0,this.blurEvt.emit(t))}componentWillLoad(){this.suggestionlist?this.validateSuggestionlist(this.suggestionlist):this.suggestionlistapi&&fetch(this.suggestionlistapi).then(t=>t.json()).then(t=>this.suggestionlist=JSON.stringify(t))}ensureInView(t,e){const s=t.scrollTop,o=s+t.clientHeight,i=e.offsetTop,n=i+e.clientHeight;i<s?t.scrollTop-=s-i:n>o&&(t.scrollTop+=n-o)}componentDidLoad(){document.querySelector('[id="'+this.uid+'"]').setAttribute("autocomplete","off")}handlePFClick(){this.showSuggestions=!1,this.selectedSuggestionIndex=void 0,this.pfclick.emit()}handleSFClick(){this.showSuggestions=!1,this.selectedSuggestionIndex=void 0,this.sfclick.emit()}onClick(t){t.preventDefault(),this.disabled||(this.suggestionArr=this._suggestionlist,this.showSuggestions=!this.showSuggestions,document.querySelector('[id="'+this.uid+'"]').focus())}componentDidRender(){const t=document.querySelector('[id="'+this._id+'"] .combobox-wrapper .combobox-selected');t&&t.scrollIntoView()}render(){return Object(o.f)("host",null,Object(o.f)("div",{class:{"combobox-div":!0,"is-loading":this.isLoading},id:this._id},Object(o.f)("span",{class:"is-checkbox",onClick:t=>this.onClick(t)},Object(o.f)("i",{class:"is-small pds-icon pds-icon-chevron--down"})),Object(o.f)("pds-input",{type:"text",uid:this.uid,name:this.name,color:this.color,autocompletetext:"no-fill",size:this.size,placeholder:this.placeholder,value:this.inputValue,disabled:this.disabled,onInput:t=>this.onInput(t),onKeyDown:t=>this.onKeyDown(t),onKeyPress:t=>this.onKeyPress(t),spellCheck:!1,rounded:this.rounded,onClick:t=>this.onClick(t)}),Object(o.f)("div",{class:"combobox-list",hidden:!this.showSuggestions},Object(o.f)("div",{class:"combobox-wrapper",style:{"max-height":34*this.noofitems+"px"}},Object(o.f)("ul",{class:"combobox-ul",role:"listbox"},this.suggestionArr.map((t,e)=>this.getSuggestionElement(t.value,t.key,e)))),Object(o.f)("div",{class:"combobox-notfound",hidden:!this.notFound},this.notfoundmessage),Object(o.f)("div",{class:"combobox-footer",hidden:!this.showSuggestions||0===this.nooffooter},2===this.nooffooter?Object(o.f)("div",{class:"secondary-footer",style:{"text-align":this.sfallignment}},Object(o.f)("a",{href:this.sflink,onClick:()=>this.handleSFClick()},this.sftext)):"",this.nooffooter>0?Object(o.f)("div",{class:"primary-footer",style:{"text-align":this.pfallignment}},Object(o.f)("a",{href:this.pflink,onClick:()=>this.handlePFClick()},this.pftext)):""))))}get element(){return Object(o.e)(this)}static get watchers(){return{suggestionlist:["validateSuggestionlist"]}}static get style(){return'@-webkit-keyframes spinAround{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes spinAround{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}pds-combo-box .combobox-div{position:relative}pds-combo-box .combobox-input{width:100%}pds-combo-box .input{-webkit-box-shadow:0 0 0 #000;box-shadow:0 0 0 #000}pds-combo-box .combobox-list{list-style:none;border:1px solid #b5b5b5;background-color:#fff;position:absolute;margin:0;padding:0;width:100%;border-radius:4px;z-index:99}pds-combo-box .combobox-wrapper{max-height:135px;overflow-y:auto;border-bottom:none;width:100%}pds-combo-box .combobox-wrapper::-webkit-scrollbar{width:6px;background-color:transparent}pds-combo-box .combobox-wrapper::-webkit-scrollbar-thumb{background-color:#b5b5b5;border-radius:10px}pds-combo-box .combobox-notfound{list-style:none;color:#121212;font-size:.875rem;line-height:1.5;padding:.375rem 1rem}pds-combo-box .combobox-footer{border-top:1px solid #b5b5b5;width:100%;-webkit-box-shadow:0 .5em 1em -.125em rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.02);box-shadow:0 .5em 1em -.125em rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.02);list-style:none;color:#121212;position:relative}pds-combo-box .combobox-li,pds-combo-box .primary-footer,pds-combo-box .secondary-footer{font-size:.875rem;line-height:1.5;padding:.375rem 1rem}pds-combo-box .combobox-li{color:#242424;display:block;position:relative;text-align:left;width:100%}pds-combo-box .combobox-li:not(:first-child){border-top:1px solid #dbdbdb}pds-combo-box .combobox-li:hover{cursor:pointer}pds-combo-box .combobox-li:hover,pds-combo-box .combobox-selected{background-color:#f5f5f5;color:#0a0a0a}pds-combo-box .combobox-div.is-loading:after{position:absolute!important;right:.625em;top:.625em;z-index:4;-webkit-animation:spinAround .5s linear infinite;animation:spinAround .5s linear infinite;border:2px solid #dbdbdb;border-radius:290486px;border-right-color:transparent;border-top-color:transparent;content:"";display:block;height:1em;width:1em}pds-combo-box .combobox-div.is-loading input[type=text]{padding-right:30px}pds-combo-box .is-checkbox{position:absolute;right:5px;top:8px;width:25px;cursor:pointer;text-align:center;z-index:1}pds-combo-box .is-checkbox+pds-input input{padding-right:30px}'}}}}]);